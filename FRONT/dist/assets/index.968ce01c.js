var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,i=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&l(e,a,t[a]);if(r)for(var a of r(t))n.call(t,a)&&l(e,a,t[a]);return e},o=(e,r)=>t(e,a(r));import{c,a as d,b as m,d as _,e as p,u,f as g,R as E,N as h,g as f,p as b,r as v,L as N,P as y,h as S,M as R,T as I,Z as x,C as D,i as T,_ as C,j as k,k as A,l as O,m as P,S as z,n as U,o as w,q as L,B as G}from"./vendor.df04a424.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const q=(e,t)=>({type:"CONNECT__USER",token:e,user:t}),F=(e,t)=>({type:"USER__QUIT__RIDE",userId:e,rideId:t}),M=e=>({type:"DELETE__RIDE",rideId:e}),V=e=>({type:"GET__ONE__RIDE__BY__ID",id:e}),$={allRides:[],currentRide:{isLoading:!0,ride_id:0,title:"",description:"",start_coordinate:[0,0],end_coordinate:[0,0],starting_time:"",duration:{minutes:0},max_number_dogs:0,tag_label:"",host_id:0,host_first_name:"",messages:[{message_id:1,sent:"",message:"",sender_id:0,sender_photo:"",sender_first_name:""}],participants:[{dogs:[{dog_photo:[{photo_id:0,photo_url:""}],dog_id:0,dog_surname:"",dog_behavior:"",dog_breed:"",dog_gender:"",dog_weight:"",dog_age:0,dog_sterilization:!1,dog_description:""}],participant_id:0,participant_photo:"",participant_first_name:""}]},failedToCreateRide:!1,rideIsCreated:!1,errorMessage:""},j={id:0,first_name:"",position:[],dogs:[],token:"",isLogged:!1,failedToConnect:!1,rides:[],renderAgain:!1},B={behaviors:[],breeds:[],formStep:1,failedToSignup:!1,endSignUp:!1,errorMessage:""},H={member_id:0,first_name:"",last_name:"",photo:"",zip_code:12345,dogs:[],birthday:"",isLoading:!1,profileIsUser:!1},J=c({rides:(e=$,t={})=>{switch(t.type){case"SAVE__ALL__RIDES":return o(i({},e),{allRides:t.allRides});case"ADD__USER__TO__RIDE":return o(i({},e),{currentRide:o(i({},e.currentRide),{participants:[...e.currentRide.participants,{participant_id:t.participant_id,participant_first_name:t.participant_first_name,participant_last_name:t.participant_last_name,participant_photo:t.participant_photo,dogs:t.dogs}]})});case"USER__QUIT__RIDE":return o(i({},e),{currentRide:o(i({},e.currentRide),{participants:[...e.currentRide.participants.filter((e=>e.participant_id!==t.userId))]})});case"ADD__MESSAGE__IN__STATE":{const a=e.currentRide.participants.find((e=>e.participant_id===t.message.sender_id));return o(i({},e),{currentRide:o(i({},e.currentRide),{messages:[...e.currentRide.messages,{message_id:t.message.id,sent:t.message.sent,message:t.message.message,sender_id:t.message.sender_id,sender_photo:a.participant_photo,sender_first_name:a.participant_first_name}]})})}case"DELETE__RIDE__IN__STATE":return o(i({},e),{allRides:e.allRides.filter((e=>e.ride_id!==t.id)),currentRide:i({},$.currentRide)});case"SAVE__ONE__RIDE":return t.ride.participants.forEach((e=>{null===e.dogs&&(e.dogs=[])})),null===t.ride.duration&&(t.ride.duration={minutes:void 0}),null===t.ride.messages?o(i({},e),{currentRide:o(i({},t.ride),{messages:[],isLoading:!1})}):o(i({},e),{currentRide:o(i({},t.ride),{isLoading:!1})});case"GET__RIDE__IS__LOADING":return o(i({},e),{currentRide:o(i({},e.currentRide),{isLoading:!0})});case"FAILED_TO_CREATE_RIDE":return o(i({},e),{failedToCreateRide:!0,errorMessage:t.errorMessage});case"KICK__USER__FROM__RIDE":return o(i({},e),{currentRide:o(i({},e.currentRide),{participants:e.currentRide.participants.filter((e=>e.participant_id!==t.userId))})});case"CREATE_RIDE":return o(i({},e),{rideIsCreated:!0});case"GET__RIDES__WITH__USER__IN":return o(i({},e),{rideIsCreated:!1});case"LOGOUT__USER":return i({},$);default:return e}},user:(e=j,t={})=>{switch(t.type){case"CONNECT__USER":return o(i({},e),{id:t.user.id,first_name:t.user.first_name,position:t.user.position,rideId:t.user.ride_id,token:t.token,isLogged:!0});case"FAILED__TO__CONNECT":return o(i({},e),{failedToConnect:!0});case"SAVE__USER__DOGS__IN__STATE":return o(i({},e),{dogs:[...t.dogs.dogs]});case"ADD_DOG_TO_USER":return o(i({},e),{dogs:[...e.dogs,i({},t.dog)]});case"LOGOUT__USER":return i({},j);case"ADD__RIDES__TO__USER":return o(i({},e),{rides:t.rides});case"RENDER__AGAIN":return o(i({},e),{renderAgain:!0});case"REINIT__RENDER__AGAIN":return o(i({},e),{renderAgain:!1});case"DELETE__DOG":return o(i({},e),{dogs:e.dogs.filter((e=>e.dog_id!==t.dogId))});default:return e}},signup:(e=B,t={})=>{switch(t.type){case"NEXT_SIGNUP_FORM_STEP":return o(i({},e),{formStep:e.formStep+1,failedToSignup:!1,errorMessage:""});case"SAVE_DOG_BREEDS_AND_BEHAVIORS":return o(i({},e),{behaviors:t.allBehaviorsAndBreeds.behaviors,breeds:t.allBehaviorsAndBreeds.breeds});case"FAILED_TO_SIGNUP":return o(i({},e),{failedToSignup:!0,errorMessage:t.errorMessage});case"FORMSTEP_SHOWS_DOGFORM":return o(i({},e),{formStep:2});case"END_OF_SIGNUP":return o(i({},e),{endSignUp:!0});case"LOGOUT__USER":return i({},B);default:return e}},profile:(e=H,t={})=>{switch(t.type){case"GET__PROFILE__IS__LOADING":return o(i({},e),{isLoading:!0});case"SAVE__PROFILE__IN__STATE":return t.profile.dogs.forEach((e=>{null===e.dog_photo&&(e.dog_photo=[])})),o(i(i({},e),t.profile),{isLoading:!1,profileIsUser:t.member_id===t.userId});case"LOGOUT__USER":return i({},H);case"DELETE__DOG":return o(i({},e),{dogs:e.dogs.filter((e=>e.dog_id!==t.dogId))});default:return e}}}),W="http://100.25.13.11/api",K=_(J,(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p)(m(...[e=>t=>a=>{const r=d.create({baseURL:W,headers:{"Access-Control-Allow-Origin":"*",authorization:`${e.getState().user.token}`}});switch(a.type){case"GET__ALL__RIDES":r.get("/rides").then((t=>{e.dispatch({type:"SAVE__ALL__RIDES",allRides:t.data})})).catch((e=>console.error("erreur : ",e.response.data))),t(a);break;case"GET__ONE__RIDE__BY__ID":r.get(`/ride/${a.id}`).then((t=>{console.log("ride retournée : ",t),e.dispatch({type:"SAVE__ONE__RIDE",ride:t.data[0]})})).catch((e=>console.error("erreur : ",e.response.data)));break;case"ADD__USER__TO__RIDE":r.post(`/ride/${a.rideId}/participation`).then((r=>{console.log("You join this ride : ",r),e.dispatch({type:"RENDER__AGAIN"}),t(a)})).catch((e=>{console.error("Can't join the ride : ",e.response.data)}));break;case"USER__QUIT__RIDE":r.delete(`/ride/${a.rideId}/participation`,{userId:a.userId}).then((e=>{console.log("You quit this ride : ",e),t(a)})).catch((e=>console.error("Error, can't quit the ride : ",e.response.data)));break;case"SEND__NEW__MESSAGE":r.post(`/social/message/ride/${a.rideId}`,{message:a.message}).then((t=>{console.log("Message sent : ",t.data.message),e.dispatch({type:"ADD__MESSAGE__IN__STATE",message:t.data.message})})).catch((e=>console.error("Message didn't send : ",e.response.data)));break;case"DELETE__RIDE":r.delete(`/ride/${a.rideId}`).then((t=>{console.log("Ride deleted successfully : ",t),e.dispatch({type:"DELETE__RIDE__IN__STATE",id:a.rideId})})).catch((e=>console.error("Can't delete ride : ",e.response.data)));break;case"CREATE_RIDE":{const{title:s,date:n,startHour:l,startMin:i,maxDogs:o,description:c,duration:d}=a.newRide;r.post("/ride",{title:s,description:c,duration:d,start_coordinate:a.startPoint,end_coordinate:a.endPoint,starting_time:`${n} ${l}:${i}:00+02`,max_number_dogs:o,tag_id:1,host_id:e.getState().user.id}).then((e=>{console.log("Ride created successfully : ",e),t(a)})).catch((t=>{console.error("Can't create ride : ",t),e.dispatch({type:"FAILED_TO_CREATE_RIDE",errorMessage:t.response.data})}))}break;case"KICK__USER__FROM__RIDE":r.delete(`/ride/${a.rideId}/participation/user/${a.userId}`).then((e=>{console.log("User kicked from ride : ",e),t(a)})).catch((e=>{console.error("Can't kick the user : ",e.response.data)}));break;default:t(a)}},e=>t=>a=>{const r=d.create({baseURL:W,headers:{"Access-Control-Allow-Origin":"*",authorization:`${e.getState().user.token}`}});switch(a.type){case"USER_SIGNUP":{const{first_name:r,last_name:s,email:n,password:l,birthday_user:i,zip_code:o,photo:c}=a.userForm,m=new FormData;m.append("first_name",r),m.append("last_name",s),m.append("email",n),m.append("password",l),m.append("birthday",i),m.append("zip_code",o),c[0]&&m.append("photo",c[0]),d({method:"POST",url:`${W}/subscribe`,data:m,headers:{"Content-Type":"multipart/form-data",authorization:`${e.getState().user.token}`}}).then((t=>{console.log("response",t),e.dispatch(q(t.data.authorization,t.data)),e.dispatch({type:"NEXT_SIGNUP_FORM_STEP"})})).catch((t=>{e.dispatch({type:"FAILED_TO_SIGNUP",errorMessage:t.response.data}),console.error("error",t.response.data)})),t(a);break}case"DOG_SIGN_UP":{const{surname:r,breed:s,weight:n,sexe:l,birthday:i,sterilization:o,behavior:c,photo_dog:m,dog_owner_id:_,description:p}=a.dogForm,u=new FormData;u.append("photo",m[0]),u.append("surname",r),u.append("breed_id",s),u.append("weight",n),u.append("gender_id",l),u.append("birthday",i),u.append("sterilization",o),u.append("behavior_id",c),u.append("dog_owner_id",_),u.append("description",p),d({method:"POST",url:`${W}/profile/${e.getState().user.id}/dogs`,data:u,headers:{"Content-Type":"multipart/form-data",authorization:`${e.getState().user.token}`}}).then((r=>{console.log(r.data),e.dispatch({type:"ADD_DOG_TO_USER",dog:r.data}),e.dispatch({type:"NEXT_SIGNUP_FORM_STEP"}),t(a)})).catch((e=>{console.error(e.response.data)}));break}case"GET_DOG_BREEDS_AND_BEHAVIORS":r.get("/characteristic").then((t=>{e.dispatch({type:"SAVE_DOG_BREEDS_AND_BEHAVIORS",allBehaviorsAndBreeds:t.data})})).catch((e=>console.error("get dog breeds and behaviors error",e.response.data))),t(a);break;default:t(a)}},e=>t=>a=>{const r=d.create({baseURL:W,headers:{"Access-Control-Allow-Origin":"*",authorization:`${e.getState().user.token}`}});switch(a.type){case"LOGIN__USER":{const{email:t,password:s}=a.data;r.post("/login/",{email:t,password:s}).then((t=>{console.log("user connect : ",t),e.dispatch(q(t.data.authorization,t.data))})).catch((t=>{console.error(t.reponse.data),e.dispatch({type:"FAILED__TO__CONNECT"})}));break}default:t(a)}},e=>t=>a=>{const r=d.create({baseURL:W,headers:{"Access-Control-Allow-Origin":"*",authorization:`${e.getState().user.token}`}});switch(a.type){case"GET__ONE__USER__BY__ID":r.get(`/social/profile/${a.id}`).then((t=>{console.log("User send by db : ",t);const{data:a}=t;null===a.dogs&&(a.dogs=[]);const r=e.getState().user.id;e.dispatch(((e,t)=>({type:"SAVE__PROFILE__IN__STATE",profile:e,userId:t}))(a,r))})).catch((e=>{console.error("Can't get profile : ",e.response.data)}));break;case"USER__GETS__HIS__DOGS":r.get(`/social/profile/${a.userId}`).then((t=>{console.log("User send by db : ",t),e.dispatch({type:"SAVE__USER__DOGS__IN__STATE",dogs:t.data})})).catch((e=>{console.error("Can't get profile : ",e.response.data)}));break;case"UPDATE__DOG":{const{surname:r,behavior:s,breed:n,gender:l,weight:i,age:o,sterilization:c,description:m,photoDog:_}=a.updatedDog,p=new FormData;p.append("surname",r),p.append("breed_id",n),p.append("weight",i),p.append("gender_id",l),o&&p.append("birthday",o),p.append("sterilization",c),p.append("description",m),p.append("behavior_id",s),_&&p.append("photo",_),d({method:"PATCH",url:`${W}/profile/${a.userId}/dogs/${a.dogId}`,data:p,headers:{"Content-Type":"multipart/form-data",authorization:`${e.getState().user.token}`}}).then((r=>{console.log("Dog updated successfully : ",r),e.dispatch({type:"RENDER__AGAIN"}),t(a)})).catch((e=>{console.error("Failed to update dog : ",e.response.data)}));break}case"UPDATE__USER":{const{firstName:r,lastName:s,zipcode:n,photoUser:l}=a.user,i=new FormData;i.append("first_name",r),i.append("last_name",s),i.append("zip_code",n),l&&i.append("photo",l),d({method:"PATCH",url:`${W}/account/edit`,data:i,headers:{"Content-Type":"multipart/form-data",authorization:`${e.getState().user.token}`}}).then((e=>{console.log("User updated : ",e.data),t(a)})).catch((e=>console.error("Cannot update user : ",e.response.message)));break}case"GET__RIDES__WITH__USER__IN":r.get("/ride").then((r=>{console.log("User participates to these rides : ",r),e.dispatch({type:"ADD__RIDES__TO__USER",rides:r.data}),t(a)})).catch((e=>{console.error("Can't get rides within the user : ",e.response.data)}));break;case"DELETE__DOG__PHOTO":r.delete(`/profile/${a.userId}/dogs/${a.dogId}/photo/${a.photoId}`).then((t=>{console.log("Photo deleted successfully : ",t),e.dispatch({type:"RENDER__AGAIN"})})).catch((e=>{console.error("Unable to delete photo : ",e.response.data)}));break;case"DELETE__DOG":r.delete(`profile/${a.userId}/dogs/${a.dogId}`).then((r=>{console.log("Dog deleted successfully : ",r),e.dispatch({type:"RENDER__AGAIN"}),t(a)})).catch((e=>{console.error("Failed to delete dog : ",e.response.data)}));break;case"DELETE__USER":r.delete("/account/delete").then((t=>{console.log("User deleted successfully : ",t),e.dispatch({type:"LOGOUT__USER"})})).catch((e=>{console.error("Failed to delete account : ",e.response.data)}));break;default:t(a)}}])));const Y=()=>{const e=u(),{id:t}=g((e=>e.user));return E.createElement("nav",{className:"navbar-connected"},E.createElement(h,{className:"navbar-connected__link",activeClassName:"navbar-connected__link--active",to:"/home",exact:!0},E.createElement("div",{className:"navbar-connected__img"},E.createElement("img",{src:"/assets/location.477497b9.svg",alt:"home"}),E.createElement("span",null,"Carte"))),E.createElement(h,{className:"navbar-connected__link",activeClassName:"navbar-connected__link--active",to:"/board",exact:!0},E.createElement("div",{className:"navbar-connected__img"},E.createElement("img",{src:"/assets/board.0b707973.svg",alt:"board"}),E.createElement("span",null,"Tableau de bord"))),E.createElement(h,{className:"navbar-connected__link",activeClassName:"navbar-connected__link--active",to:`/profile/${t}`,exact:!0},E.createElement("div",{className:"navbar-connected__img"},E.createElement("img",{src:"/assets/user.7c7f08d9.svg",alt:"profil"}),E.createElement("span",null,"Profil"))),E.createElement(h,{className:"navbar-connected__sign-out",to:"/",onClick:()=>e({type:"LOGOUT__USER"}),exact:!0},E.createElement("div",{className:"navbar-connected__img"},E.createElement("img",{src:"/assets/log-out.4d47af2b.svg",alt:"deconnexion"}),E.createElement("span",null,"Déconnexion"))))};const Z=()=>E.createElement("nav",{className:"navbar-disconnected"},E.createElement(h,{className:"navbar-disconnected__contact",activeClassName:"navbar-disconnected__home--active",to:"/contact",exact:!0},E.createElement("span",null,"Contacts")),E.createElement(h,{className:"navbar-disconnected__legal",activeClassName:"navbar-disconnected__board--active",to:"/legal",exact:!0},E.createElement("span",null,"Mentions légales")),E.createElement(h,{className:"navbar-disconnected__cani-crew",activeClassName:"navbar-disconnected__profile--active",to:"/cani-crew",exact:!0},E.createElement("span",null,"Le Cani Crew !")));var Q="/assets/canipotes_logo.334313d3.jpg";const X=({title:e})=>{const{isLogged:t}=g((e=>e.user));return E.createElement("header",{className:"header"},E.createElement(h,{className:"header__logo",to:"/",exact:!0},E.createElement("div",{className:"header__logo__container"},E.createElement("img",{src:Q,alt:"logo Cani' potes"}))),e&&E.createElement("h1",{className:"header__title"},e),t&&E.createElement(Y,null),!t&&"/"===window.location.pathname&&E.createElement(Z,null))},ee=f({apikey:"AAPKbde72a12e3ff4574b3edd95295b1d13d5-bGBIhj88MhjknVOZZpLcC1yEkpv4yu2Bx8MRWji_av4Hj2aqwc1AsUJ2UyTK3Q"}),te=(e,t)=>{ee.reverse().latlng(e).run((async(e,a)=>{e&&console.warn("reverse geocoding error",e),t(a.address.LongLabel)}))};var ae="/assets/calendar.97c961e7.svg",re="/assets/hourglass.21a1d65a.svg",se="/assets/map-pin.325c82ef.svg",ne="/assets/flag.f9da50de.svg";const le=e=>{if(!e)return"";const t=e.split(" ");switch(t[0].toLowerCase()){case"monday":t[0]="Lundi";break;case"tuesday":t[0]="Mardi";break;case"wednesday":t[0]="Mercredi";break;case"thursday":t[0]="Jeudi";break;case"friday":t[0]="Vendredi";break;case"saturday":t[0]="Samedi";break;case"sunday":t[0]="Dimanche"}switch(t[2].toLowerCase()){case"january":t[2]="Janvier";break;case"february":t[2]="Février";break;case"march":t[2]="Mars";break;case"april":t[2]="Avril";break;case"may":t[2]="Mai";break;case"june":t[2]="Juin";break;case"july":t[2]="Juillet";break;case"august":t[2]="Août";break;case"september":t[2]="Septembre";break;case"october":t[2]="Octobre";break;case"november":t[2]="Novembre";break;case"december":t[2]="Décembre"}return t.join(" ")};const ie=({starting_time:e,duration:t,start_coordinate:a,end_coordinate:r})=>{const[s,n]=v.exports.useState(""),[l,i]=v.exports.useState("");return te(a,n),te(r,i),E.createElement("div",{className:"ride"},E.createElement("p",{className:"ride__detail"},E.createElement("img",{src:ae,alt:"calendar"}),le(e)),E.createElement("p",{className:"ride__detail"},E.createElement("img",{className:"icon",src:re,alt:"clock"}),t.minutes?`${t.minutes} minutes`:"Durée non précisée"),E.createElement("p",{className:"ride__detail"},E.createElement("img",{className:"icon",src:se,alt:"starting"}),"Départ : ",s),E.createElement("p",{className:"ride__detail"},E.createElement("img",{className:"icon",src:ne,alt:"arrival"}),"Arrivée : ",l))};ie.propTypes={starting_time:b.exports.PropTypes.string.isRequired,duration:b.exports.PropTypes.shape({minutes:b.exports.PropTypes.number.isRequired}).isRequired,start_coordinate:b.exports.PropTypes.arrayOf(b.exports.PropTypes.number).isRequired,end_coordinate:b.exports.PropTypes.arrayOf(b.exports.PropTypes.number).isRequired};const oe=({ride_id:e,participants:t,host_id:a})=>(t.sort(((e,t)=>e.participant_id===a?-1:0)),E.createElement("div",{className:"profile"},E.createElement("section",{className:"profile__section"},t.map((e=>E.createElement(N,{to:`/profile/${e.participant_id}`},E.createElement("article",{className:"profile__article",key:`participant${e.participant_id}`},E.createElement("div",{className:"profile__article__avatar"},E.createElement("div",{className:"profile__article__avatar-image"},E.createElement("img",{src:`http://100.25.13.11/user_resized/${e.participant_photo}`,alt:e.participant_first_name})),E.createElement("div",null,E.createElement("span",null,e.participant_first_name))),E.createElement("div",{className:"profile__article__dogs"},e.dogs&&e.dogs.map(((t,a)=>a<2?E.createElement("div",{className:"profile__article__dogs-container",key:`participant${e.participant_id}dog${t.dog_id}`},E.createElement("div",{className:"profile__article__dogs-image"},t.dog_photo&&E.createElement("img",{src:`http://100.25.13.11/dog_resized/${t.dog_photo[0].photo_url}`,alt:t.dog_surname})),E.createElement("div",{className:"profile__article__dogs-surname"},E.createElement("span",null,t.dog_surname))):a===e.dogs.length-1?E.createElement("span",{className:"profile__article__dogs-more-dogs"},e.dogs.length-2," chien",e.dogs.length-2>1&&"s"," de plus"):void 0)))))))),E.createElement("div",{className:"profile__learn-more"},E.createElement(N,{to:`/ride/${e}`},E.createElement("button",{type:"button"},"En savoir plus")))));oe.propTypes={participants:b.exports.PropTypes.arrayOf(b.exports.PropTypes.shape({dogs:b.exports.PropTypes.arrayOf(b.exports.PropTypes.shape({dog_id:b.exports.PropTypes.number.isRequired,dog_age:b.exports.PropTypes.string.isRequired,dog_breed:b.exports.PropTypes.string.isRequired,dog_photo:b.exports.PropTypes.arrayOf(b.exports.PropTypes.shape({photo_id:b.exports.PropTypes.number.isRequired,photo_url:b.exports.PropTypes.string.isRequired})).isRequired,dog_gender:b.exports.PropTypes.string.isRequired,dog_weight:b.exports.PropTypes.number.isRequired,dog_surname:b.exports.PropTypes.string.isRequired,dog_behavior:b.exports.PropTypes.string.isRequired,dog_description:b.exports.PropTypes.string.isRequired,dog_sterilization:b.exports.PropTypes.bool.isRequired})).isRequired,participant_id:b.exports.PropTypes.number.isRequired,participant_photo:b.exports.PropTypes.string,participant_first_name:b.exports.PropTypes.string.isRequired})).isRequired,host_id:b.exports.PropTypes.number.isRequired};const ce=()=>{const e=[1,2,3,4];return E.createElement("div",{className:"mosaic"},E.createElement("h2",null,"Chargement ..."),E.createElement("div",{className:"mosaic-loader"},[1,2,3,4].map(((t,a)=>e.map(((t,r)=>E.createElement("div",{key:e[r],className:`cell d-${a+r}`})))))))};const de=()=>{const{currentRide:e}=g((e=>e.rides));return E.createElement(y,{className:"ride-informations"},E.createElement("div",{className:"ride-informations__all"},E.createElement("h1",null,E.createElement("img",{className:"icon",src:"/assets/dog-walk.8b1893e7.svg",alt:"clock"}),e.title),e.isLoading?E.createElement(ce,null):E.createElement(E.Fragment,null,E.createElement(ie,i({},e)),E.createElement(oe,i({},e)))))};var me="/assets/maps-and-flags.11555cc8.svg";const _e=()=>{const e="AAPKbde72a12e3ff4574b3edd95295b1d13d5-bGBIhj88MhjknVOZZpLcC1yEkpv4yu2Bx8MRWji_av4Hj2aqwc1AsUJ2UyTK3Q",{allRides:t}=g((e=>e.rides)),{user:a}=g((e=>e)),r=u(),s=new S.Icon({iconUrl:me,inconRetInaUrl:me,popupAnchor:[-0,-0],iconSize:[22,35]}),n=e=>{const{lat:a,lng:s}=e.latlng;r({type:"GET__RIDE__IS__LOADING"});const n=t.find((e=>e.start_coordinate[0]===a&&e.start_coordinate[1]===s));r(V(n.ride_id))},[l,i]=v.exports.useState();return E.createElement(R,{className:"leaflet-container",center:a.position,zoom:15,zoomControl:!1},E.createElement(I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),E.createElement(x,{position:"topright"}),E.createElement(D,{center:l||a.position,pathOptions:{fillColor:"#fc575e",fillOpacity:.15,color:"#fc575e"},radius:1e3}),l?E.createElement(T,{position:l}):E.createElement(T,{position:a.position}),t.map((e=>E.createElement(T,{position:e.start_coordinate,icon:s,key:e.ride_id,eventHandlers:{click:n}},E.createElement(de,null)))),E.createElement(C,{position:"topright",useMapBounds:!1,placeholder:"Chercher une adresse ou un endroit",providers:{arcgisOnlineProvider:{apikey:e}},eventHandlers:{results:e=>{i([e.latlng.lat,e.latlng.lng])}},key:e}))},pe=()=>{const e=u(),{id:t}=g((e=>e.user));return v.exports.useEffect((()=>{e({type:"GET__ALL__RIDES"}),e({type:"USER__GETS__HIS__DOGS",userId:t})}),[]),E.createElement("div",{className:"map-balade"},E.createElement(_e,null))};var ue="/assets/close.d5979d05.svg",ge="/assets/paw.4f6f0398.svg";const Ee=()=>{const e=u(),{register:t,handleSubmit:a}=k(),[r,s]=v.exports.useState(!1),{failedToConnect:n}=g((e=>e.user));return E.createElement("div",{className:"connection-container"},E.createElement("header",{className:"header-connection"},E.createElement(h,{className:"header-connection__logo",to:"/",exact:!0},E.createElement("img",{src:Q,alt:"logo cani potes"})),E.createElement("h1",{className:"header-connection__title"},"Cani' Potes"),E.createElement("div",{className:"header-connection__cta"},E.createElement("button",{type:"button",className:"header-connection__cta__signin",onClick:()=>s(!0)},"Connexion"),E.createElement(h,{className:"header-connection__cta__signup",to:"/signup",exact:!0},"Inscription"))),E.createElement("main",{className:"connection"},E.createElement("div",{className:"connection__info"},E.createElement("article",null,E.createElement("div",{className:"connection__info__title"},E.createElement("h1",null,E.createElement("strong",null,"Cani' Potes"),E.createElement("br",null),E.createElement("span",null,"Pour des rencontres au poil !")),E.createElement("div",null,E.createElement("img",{src:"/assets/home-dogs.ec020bd4.jpg",alt:"dogs"}))),E.createElement("div",{className:"connection__info__text"},E.createElement("p",null,E.createElement("span",null,"Partez à la rencontre de nombreux propriétaires de chiens - Cani'Potes - pour que vos toutous se sociabilisent en toute sécurité avec d'autres amis poilus.")))),E.createElement("article",null,E.createElement("div",{className:"connection__info__map"},E.createElement("h2",null,"Ne promenez plus votre chien seul(e), rejoignez des Cani'Potes !"),E.createElement("div",{className:"connection__info__map-row-reverse"},E.createElement("div",null,E.createElement("img",{src:"/assets/home_map.b8bca6cc.png",alt:"map example"})),E.createElement("p",null,"Via la carte interactive, visualisez les balades autour de chez vous et rejoignez-les.",E.createElement("br",null),"La promenade de vos rêves n'existe pas ? Créez la vôtre pour la proposer aux autres Cani'Potes.")))),E.createElement("div",{className:"connection__info__text connection__info__text-center"},E.createElement("div",null,E.createElement("h2",null,"Commencez l'aventure simplement"),E.createElement("ol",null,E.createElement("div",null,E.createElement("img",{src:ge,alt:"paw"}),E.createElement("img",{src:ge,alt:"paw"}),E.createElement("img",{src:ge,alt:"paw"})),E.createElement("li",null,'Je me crée un compte en cliquant sur "Inscription".'),E.createElement("div",null,E.createElement("img",{src:ge,alt:"paw"}),E.createElement("img",{src:ge,alt:"paw"}),E.createElement("img",{src:ge,alt:"paw"})),E.createElement("li",null,"Je renseigne mes informations et celles de mon / mes chiens."),E.createElement("div",null,E.createElement("img",{src:ge,alt:"paw"}),E.createElement("img",{src:ge,alt:"paw"}),E.createElement("img",{src:ge,alt:"paw"})),E.createElement("li",null,"Et c'est parti pour de belles rencontres !"))))),r&&E.createElement("div",{className:"connection__modal"},E.createElement("button",{className:"connection__modal__close",type:"button",onClick:()=>s(!1)},E.createElement("img",{src:ue,alt:"close"})),E.createElement("form",{onSubmit:a((t=>{e((e=>({type:"LOGIN__USER",data:e}))(t))})),className:"connection__form"},E.createElement("div",{className:"connection__form__field"},E.createElement("label",{htmlFor:"email"},"Email"),E.createElement("input",i({id:"email",name:"email",type:"email"},t("email",{required:!0})))),E.createElement("div",{className:"connection__form__field"},E.createElement("label",{htmlFor:"password"},"Mot de passe"),E.createElement("input",i({id:"password",name:"password",type:"password"},t("password",{required:!0})))),n&&E.createElement("span",{className:"connection__form__failed"},"Les identifiants sont inexacts."),E.createElement("button",{className:"connection__form__submit",type:"submit"},"Se connecter")))),E.createElement("footer",{className:"connection__footer"},E.createElement(Z,null)))};var he="/assets/startPointFlag.0021d75e.svg",fe="/assets/endPointFlag.762c206a.svg";const be=()=>{const e="AAPKbde72a12e3ff4574b3edd95295b1d13d5-bGBIhj88MhjknVOZZpLcC1yEkpv4yu2Bx8MRWji_av4Hj2aqwc1AsUJ2UyTK3Q",{failedToCreateRide:t,errorMessage:a,rideIsCreated:r}=g((e=>e.rides)),{user:s}=g((e=>e)),{register:n,handleSubmit:l,formState:{errors:c}}=k(),d=u(),m=new Date,_=new S.Icon({iconUrl:he,inconRetInaUrl:he,popupAnchor:[-0,-0],iconSize:[45,55]}),p=new S.Icon({iconUrl:fe,inconRetInaUrl:fe,popupAnchor:[-0,-0],iconSize:[45,55]}),[h,b]=v.exports.useState("start"),[N,y]=v.exports.useState(s.position),[x,D]=v.exports.useState(),[P,z]=v.exports.useState(),[U,w]=v.exports.useState(),[L,G]=v.exports.useState(s.position),q=f({apikey:e}),F=(e,t)=>{q.reverse().latlng(e).run(((e,a)=>{e&&console.log("reverse geocoding error",e),t(a.address.LongLabel)}))};F(N,z);const M=()=>{const[e,t]=v.exports.useState(null);return O({click(e){"start"===h?(y([e.latlng.lat,e.latlng.lng]),F(N,z)):"end"===h&&(D([e.latlng.lat,e.latlng.lng]),F([e.latlng.lat,e.latlng.lng],w))}}),null===e?null:E.createElement(T,null)};return v.exports.useEffect((()=>{"start"===h?(y(L),F(L,z)):(D(L),F(L,w))}),[L]),E.createElement("main",{className:"create-ride"},r&&E.createElement(A,{to:"/board"}),E.createElement("h2",null,"Création d'une balade"),E.createElement("form",{onSubmit:l((e=>{console.log(e),N&&x||console.warn("Invalid start or end point for ride"),d(((e,t,a)=>({type:"CREATE_RIDE",newRide:e,startPoint:t,endPoint:a}))(e,N,x))}))},t&&E.createElement("span",null,a),E.createElement("div",{className:"create-ride__field"},E.createElement("label",{htmlFor:"title"},"Nom de ma balade"),E.createElement("input",i({type:"text",id:"title",name:"title",placeholder:"Balade le long du canal"},n("title",{required:"Veuillez écrire un titre.",maxLength:{value:20,message:"Veuillez ne pas dépasser 20 caractères."}}))),c.title&&E.createElement("span",null,c.title.message)),E.createElement("div",{className:"create-ride__field__map-container"},E.createElement("div",{className:"create-ride__field__map-points"},E.createElement("button",{className:"start"===h?"selected":"",type:"button",onClick:()=>b("start")},"Départ"),E.createElement("button",{className:"end"===h?"selected":"",type:"button",onClick:()=>b("end")},"Arrivée")),E.createElement(R,{className:"leaflet-container",center:s.position,zoom:16,scrollWheelZoom:!0},E.createElement(I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),E.createElement(T,{position:N,icon:_}),x&&E.createElement(T,{position:x,icon:p}),E.createElement(M,null),E.createElement(C,{position:"topleft",useMapBounds:!1,placeholder:"Chercher une adresse ou un endroit",providers:{arcgisOnlineProvider:{apikey:e}},eventHandlers:{results:e=>{console.log("EsriLeafletGeosearch",[e.latlng.lat,e.latlng.lng]),G([e.latlng.lat,e.latlng.lng])}},key:e}))),E.createElement("div",null,E.createElement("p",null,"Adresse de départ : ",P)),E.createElement("div",null,E.createElement("p",null,"Adresse d'arrivée : ",U)),E.createElement("div",{className:"create-ride__field"},E.createElement("label",{htmlFor:"date"},"Jour de la balade"),E.createElement("input",i({id:"date",name:"date",type:"date",defaultValue:`${m.getUTCFullYear().toString().padStart(2,"0")}-${(m.getUTCMonth()+1).toString().padStart(2,"0")}-${(m.getUTCDate()+1).toString().padStart(2,"0")}`,min:`${m.getUTCFullYear().toString().padStart(2,"0")}-${(m.getUTCMonth()+1).toString().padStart(2,"0")}-${m.getUTCDate().toString().padStart(2,"0")}`},n("date",{required:"Veuillez sélectionner la date de la balade."}))),c.date&&E.createElement("span",null,c.date.message)),E.createElement("div",{className:"create-ride__field"},E.createElement("p",null,"Heure de départ"),E.createElement("select",o(i({},n("startHour",{required:"Veuillez sélectionner l'heure de la balade."})),{defaultValue:17}),[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map((e=>E.createElement("option",{key:e,value:e},e.toString().padStart(2,"0"))))),E.createElement("select",o(i({},n("startMin",{required:"Veuillez sélectionner les minutes de l'heure de la balade."})),{defaultValue:30}),[0,5,10,15,20,25,30,35,40,45,50,55].map((e=>E.createElement("option",{key:e,value:e},e.toString().padStart(2,"0"))))),c.startHour||c.startMin&&E.createElement(E.Fragment,null,E.createElement("span",null,c.startHour.message),E.createElement("span",null,c.starMin.message)),c.startHour&&E.createElement("span",null,c.startHour.message)),E.createElement("div",{className:"create-ride__field"},E.createElement("label",{htmlFor:"duration"},"Durée de la balade",E.createElement("input",i({id:"duration",name:"duration",type:"number",placeholder:"Durée (min)"},n("duration",{maxLength:{value:3,message:"Veuillez ne pas dépassez 3 chiffres."}}))),"minutes."),c.duration&&E.createElement("span",null,c.duration.message)),E.createElement("div",{className:"create-ride__field"},E.createElement("label",{htmlFor:"maxDogs"},"Nombre maximum de chiens"),E.createElement("input",i({id:"maxDogs",name:"maxDogs",type:"number",placeholder:"Nombre de chiens"},n("maxDogs",{required:"Veuillez remplir le nombre maximum de chiens",max:{value:20,message:"Maximum 20 chiens"},min:{value:2,message:"Minimum 2 chiens"}}))),c.maxDogs&&E.createElement("span",null,c.maxDogs.message)),E.createElement("div",{className:"create-ride__field"},E.createElement("label",{htmlFor:"description"},"Description de ma balade"),E.createElement("textarea",i({placeholder:"Je souhaite me faire des Cani Potes !"},n("description",{required:"Veuillez remplir la description.",maxLength:{value:200,message:"Veuillez ne pas dépasser 200 caractères."}}))),c.description&&E.createElement("span",null,c.description.message)),E.createElement("input",{type:"submit"})))};const ve=()=>{const{formStep:e,breeds:t,behaviors:a,failedToSignup:r,errorMessage:s}=g((e=>e.signup)),n=u();v.exports.useEffect((()=>{n({type:"GET_DOG_BREEDS_AND_BEHAVIORS"})}),[]);const{register:l,handleSubmit:c,formState:{errors:d}}=k(),m=new Date;return E.createElement("div",{className:2===e?"signup dog":"hidden"},E.createElement("h2",null,"Mon chien"),E.createElement("div",null,E.createElement("form",{onSubmit:c((e=>{console.log(e),n({type:"DOG_SIGN_UP",dogForm:e})})),className:"dog__form"},E.createElement("div",{className:"dog__form__input-infos"},r&&E.createElement("span",{className:"signup__errorMessageDataBase user-form__form__input-infos__error-message"},s),E.createElement("div",{className:"dog__form__input-infos__first"},E.createElement("div",{className:"dog__form__input-infos__first__race"},E.createElement("select",o(i({},l("breed",{required:"Veuillez renseigner sa race",valueAsNumber:!0})),{className:"dog__commun"}),E.createElement("option",{value:""},"Race"),t.map((e=>E.createElement("option",{value:e.id,key:e.id},e.label)))),d.race&&E.createElement("p",{className:"errors"},d.race.message)),E.createElement("div",{className:"dog__form__input-infos__first__weight"},E.createElement("input",o(i({type:"number",placeholder:"Poids (kg)"},l("weight",{required:"Veuillez renseigner son poids",valueAsNumber:!0})),{defaultValue:"10",className:"dog__commun"})),d.weight&&E.createElement("p",{className:"errors"},d.weight.message))),E.createElement("div",{className:"dog__form__input-infos__others"},E.createElement("div",{className:"dog__form__input-infos__others__sexe"},E.createElement("p",null,"Il s'agit d'un(e)"),E.createElement("div",{className:"dog__form__input-infos__others__sexe__label"},E.createElement("label",{htmlFor:"female"}," Femelle",E.createElement("input",o(i({},l("sexe",{required:"Veuillez renseigner son sexe"})),{type:"radio",value:"1",id:"female"}))),E.createElement("label",{htmlFor:"male",className:"dog__form__input-infos__others__sexe__label"},"  Mâle",E.createElement("input",o(i({},l("sexe",{required:"Veuillez renseigner son sexe"})),{type:"radio",value:"2",id:"male"})))),d.sexe&&E.createElement("p",{className:"errors"},d.sexe.message)),E.createElement("div",{className:"dog__form__input-infos__others__birthday"},E.createElement("label",{htmlFor:"birthday",className:"dog__title"},"Il est né le"),E.createElement("input",o(i({type:"date"},l("birthday",{required:"Veuillez renseigner sa date de naissance"})),{id:"birthday",max:`${m.getUTCFullYear().toString().padStart(2,"0")}-${(m.getUTCMonth()+1).toString().padStart(2,"0")}-${m.getUTCDate().toString().padStart(2,"0")}`})),d.birthday&&E.createElement("p",{className:"errors"},d.birthday.message)),E.createElement("div",{className:"dog__form__input-infos__others__sterilized"},E.createElement("p",{className:"dog__form__input-infos__others__sterilized_p"},"Il est stérilisé"),E.createElement("div",{className:"dog__form__input-infos__others__sterilized__parent-label"},E.createElement("label",{htmlFor:"sterilization-true",className:"dog__form__input-infos__others__sterilized__label"},E.createElement("input",o(i({},l("sterilization",{required:"Veuillez renseigner s'il est stérilisé"})),{type:"radio",value:"true",id:"sterilization-true"})),"Oui"),E.createElement("label",{htmlFor:"sterilization-false",className:"dog__form__input-infos__others__sterilized__label"},E.createElement("input",o(i({},l("sterilization",{required:"Veuillez renseigner s'il est stérilisé"})),{type:"radio",value:"false",id:"sterilization-false"})),"Non")),d.sterilization&&E.createElement("p",{className:"errors"},d.sterilization.message)),E.createElement("div",{className:"dog__form__input-infos__others__character"},E.createElement("p",{className:"dog__dog__form__input-infos__others__character__p"},"Il est plutôt du genre"),E.createElement("div",{className:"dog__form__input-infos__others__character__label-flex"},a.map((e=>E.createElement("label",{htmlFor:e.label,className:"dog__behavior",key:e.id,style:{textTransform:"capitalize"}},E.createElement("input",o(i({},l("behavior",{required:"Veuillez renseigner son caractère"})),{type:"radio",value:e.id,id:e.label})),e.label)))),d.behavior&&E.createElement("p",{className:"errors"},d.behavior.message)),E.createElement("div",{className:"dog__form__input-infos__others__surname"},E.createElement("label",{htmlFor:"surname",className:"dog__title"},"Il s'appelle",E.createElement("input",o(i({type:"text",placeholder:"Nom"},l("surname",{required:"Veuillez renseigner son nom",maxLength:{value:20,message:"Veuillez ne pas dépasser 20 caractères."}})),{id:"surname"}))),d.surname&&E.createElement("p",{className:"errors"},d.surname.message)),E.createElement("div",{className:"dog__form__input-infos__others__picture"},E.createElement("label",{htmlFor:"photo_dog"},"Ajouter une photo de mon chien",E.createElement("input",o(i({type:"file",placeholder:"Photo de mon chien"},l("photo_dog")),{accept:"image/png, image/jpeg"})))),E.createElement("div",{className:"dog__form__input-infos__others__description"},E.createElement("textarea",i({placeholder:"Une petite description de votre chien et de ce que vous recherchez :)"},l("description",{maxLength:{value:200,message:"Veuillez ne pas dépasser 200 caractères."}})))))),E.createElement("div",{className:"signup__back-submit"},E.createElement("button",{type:"submit",className:"signup__back-submit__submit"},"Valider")))))};const Ne=()=>{const e=g((e=>e.signup.formStep)),t=u(),{register:a,handleSubmit:r,formState:{errors:s},watch:n}=k(),l=g((e=>e.signup.failedToSignup)),c=g((e=>e.signup.errorMessage)),d=new Date;return E.createElement("div",{className:1===e?"signup user-form":"hidden"},E.createElement("h2",{className:"signup__subtitle"},"Vous"),E.createElement("div",{className:"user-form__form"},E.createElement("form",{onSubmit:r((e=>{t({type:"USER_SIGNUP",userForm:e})}))},E.createElement("div",{className:"user-form__form__input-infos"},E.createElement("div",{className:"user-form__form__input-infos__identity"},l&&E.createElement("span",{className:"signup__errorMessageDataBase user-form__form__input-infos__error-message"},c),E.createElement("div",{className:"user-form__form__input-infos__first_name"},E.createElement("input",o(i({},a("first_name",{required:"Veuillez entrer votre prénom.",maxLength:{value:20,message:"Veuillez ne pas dépasser 20 caractères."}})),{type:"text",placeholder:"Prénom"})),s.first_name&&E.createElement("p",{className:"errors"},s.first_name.message)),E.createElement("div",{className:"user-form__form__input-infos__name"},E.createElement("input",o(i({},a("last_name",{required:"Veuillez entrer votre nom.",maxLength:{value:20,message:"Veuillez ne pas dépasser 20 caractères."}})),{type:"text",placeholder:"Nom"})),s.last_name&&E.createElement("p",{className:"errors"},s.last_name.message)),E.createElement("div",{className:"user-form__form__input-infos__email"},E.createElement("input",o(i({},a("email",{required:"Veuillez entrer un email."})),{type:"email",placeholder:"Email"})),s.email&&E.createElement("p",{className:"errors"},s.email.message)),E.createElement("div",{className:"user-form__form__input-infos__password"},E.createElement("input",o(i({},a("password",{required:"Veuillez entrer un mot de passe.",maxLength:{value:20,message:"Veuillez ne pas dépasser 20 caractères."}})),{type:"password",placeholder:"Mot de passe"})),s.password&&E.createElement("p",{className:"errors"},s.password.message)),E.createElement("div",{className:"user-form__form__input-infos__password--confirmation"},E.createElement("input",o(i({},a("password_confirmation",{required:"Veuillez confirmer votre mot de passe.",validate:e=>e===n("password")||"Les mots de passe de correspondent pas"})),{type:"password",placeholder:"Confirmer mot de passe"})),s.password_confirmation&&E.createElement("p",{className:"errors"},s.password_confirmation.message)),E.createElement("div",{className:"user-form__form__input-infos__birthday"},E.createElement("label",{htmlFor:"birthday_user"},"Je suis né le"),E.createElement("input",o(i({type:"date"},a("birthday_user",{required:"Veuillez renseigner votre date de naissance."})),{id:"birthday_user",max:`${d.getUTCFullYear().toString().padStart(2,"0")}-${(d.getUTCMonth()+1).toString().padStart(2,"0")}-${d.getUTCDate().toString().padStart(2,"0")}`})),s.birthday_user&&E.createElement("p",{className:"errors"},s.birthday_user.message)),E.createElement("div",{className:"user-form__form__input-infos__picture"},E.createElement("label",{htmlFor:"photo"},"Ajouter une photo de profil",E.createElement("input",o(i({},a("photo")),{type:"file",id:"photo",accept:"image/png, image/jpeg"}))))),E.createElement("div",{className:"user-form__form__input-infos__zipcode"},E.createElement("p",{className:"user-form__form__input-infos__zipcode__p"},"Afin de pouvoir géolocaliser votre ville, nous avons besoin de votre code postal."),E.createElement("div",{className:"user-form__form__input-infos__zipcode__input"},E.createElement("input",o(i({},a("zip_code",{required:"Veuillez entrer un code postal.",minLength:{value:5,message:"Veuillez entrer un code postal à 5 chiffres."},maxLength:{value:5,message:"Veuillez entrer un code postal à 5 chiffres."},pattern:/^(?!00|96|99)\d{5}$/})),{type:"text",placeholder:"Code postal"})),s.zip_code&&E.createElement("p",{className:"errors"},s.zip_code.message)))),E.createElement("div",{className:"signup__back-submit"},E.createElement(N,{to:"/",className:"signup__back-submit__back"},"Retour"),E.createElement("button",{type:"submit",className:"signup__back-submit__submit"},"Valider")))))};const ye=()=>{const e=u(),t=g((e=>e.signup.formStep));return E.createElement("div",{className:3===t?"signup end":"hidden"},E.createElement("h2",null,"Fin"),E.createElement("div",{className:"end__content"},E.createElement("div",{className:"end__content__p"},E.createElement("p",null,"Ca y est, tout est prêt !"),E.createElement("p",null,"Tu peux enfin trouver les balades près de chez toi ",E.createElement("img",{src:"/assets/sunglasses.79fd7c00.svg",alt:"happy smiley"}))),E.createElement(N,{to:"/home",className:"end__content__home",onClick:()=>e({type:"END_OF_SIGNUP"})},"Chercher une balade")))};const Se=()=>{const{endSignUp:e}=g((e=>e.signup));return E.createElement("div",{className:"signup-main"},e&&E.createElement(A,{to:"/home"}),E.createElement("h1",null,"Inscription"),E.createElement(Ne,null),E.createElement(ve,null),E.createElement(ye,null))};var Re="/assets/fearful.2d27d3f9.svg",Ie="/assets/player.bb93c27b.png",xe="/assets/aggressive.4280d620.png",De="/assets/sociable.8e10dae7.svg";const Te=()=>{const{id:e}=P(),t=v.exports.useRef(),a=u(),{user:r}=g((e=>e));v.exports.useEffect((()=>{a({type:"REINIT__RENDER__AGAIN"}),a({type:"GET__RIDE__IS__LOADING"}),a(V(e))}),[r.renderAgain]);const{ride_id:s,title:n,max_number_dogs:l,participants:o,starting_time:c,duration:d,description:m,host_first_name:_,host_id:p,messages:h,start_coordinate:f,end_coordinate:b,isLoading:x}=g((e=>e.rides.currentRide)),[D,C]=v.exports.useState(""),[O,z]=v.exports.useState("");te(f,C),te(b,z);const U=r.id===p;let w=0;o.map((e=>w+=e.dogs.length)),o.sort(((e,t)=>e.participant_id===p?-1:0));const L={peureux:Re,joueur:Ie,agressif:xe,sociable:De},{register:G,handleSubmit:q,reset:$}=k(),[j,B]=v.exports.useState(!1),[H,J]=v.exports.useState(!1),[W,K]=v.exports.useState(!1),[Y,Z]=v.exports.useState(!1),[Q,ee]=v.exports.useState(0);let ie="S'inscrire";0===r.dogs.length&&(ie="Vous n'avez pas de chien !"),w>l&&(ie="Plus de place"),w<l&&w+r.dogs.length>l&&(ie="Vous êtes trop nombreux");const oe=()=>{setTimeout((()=>{t.current.scrollTo({top:t.current.scrollHeight,left:0,behavior:"smooth"})}),250)},de=new S.Icon({iconUrl:he,inconRetInaUrl:he,popupAnchor:[-0,-0],iconSize:[35,42]}),me=new S.Icon({iconUrl:fe,inconRetInaUrl:fe,popupAnchor:[-0,-0],iconSize:[35,42]});return E.createElement(E.Fragment,null,E.createElement(X,{title:n}),E.createElement("main",null,E.createElement("div",{className:"ride-details"},H&&E.createElement(A,{to:"/home"}),E.createElement("section",{className:"ride-details__infos"},E.createElement("div",{className:"ride-details__infos__map"},E.createElement("div",{className:"ride-details__leaflet"},x?E.createElement(ce,null):E.createElement(R,{className:"ride-details__leaflet__map",center:f,zoom:16,scrollWheelZoom:!0,zoomControl:!1},E.createElement(I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),E.createElement(T,{position:f,icon:de},E.createElement(y,null,"Départ")),E.createElement(T,{position:b,icon:me},E.createElement(y,null,"Arrivée")))),E.createElement("span",null,w," / ",l," chiens")),E.createElement("div",{className:"ride-details__infos__description"},E.createElement("p",null,E.createElement("span",{className:"ride-details__icon"},E.createElement("img",{src:ae,alt:"calendar"})),le(c)),E.createElement("p",null,E.createElement("span",{className:"ride-details__icon"},E.createElement("img",{src:re,alt:"hourglass"})),"Durée : ",d.minutes,"min"),E.createElement("p",null,E.createElement("span",{className:"ride-details__icon"},E.createElement("img",{src:se,alt:"starting"})),"Départ : ",E.createElement("br",null),D,E.createElement("br",null)),E.createElement("p",null,E.createElement("span",{className:"ride-details__icon"},E.createElement("img",{src:ne,alt:"flag"})),"Arrivée : ",E.createElement("br",null),O,E.createElement("br",null)),E.createElement("p",null,m))),E.createElement("section",{className:"ride-details__users"},E.createElement("div",{className:"ride-details__users__infos"},E.createElement("span",null,o.length," Cani Potes"),o.find((e=>e.participant_id===r.id))?E.createElement("button",{type:"button",onClick:()=>{U?K(!0):a(F(r.id,e))}},"Se désinscrire"):E.createElement("button",{type:"button",onClick:()=>{0!==r.dogs.length&&w<l&&w+r.dogs.length<l&&a((({id:e,first_name:t,last_name:a,photo:r,dogs:s},n)=>({type:"ADD__USER__TO__RIDE",participant_id:e,participant_first_name:t,participant_last_name:a,participant_photo:r,dogs:s,rideId:n}))(r,s))}},ie)),E.createElement("div",{className:"ride-details__container"},E.createElement("div",{className:"ride-details__users__registered"},o.map((e=>E.createElement(N,{to:`/profile/${e.participant_id}`,className:"ride-details__current-user-link"},E.createElement("div",{className:"ride-details__current-user",key:e.participant_id},U&&e.participant_id!==r.id&&E.createElement("button",{type:"button",onClick:()=>{Z(!0),ee(e.participant_id)}},E.createElement("img",{src:ue,alt:"kick user"})),E.createElement("div",{className:"ride-details__current-user__avatar"},E.createElement("img",{src:`http://100.25.13.11/user_resized/${e.participant_photo}`,alt:"user"}),E.createElement("div",{className:"ride-details__current-user__avatar-name"},p===e.participant_id&&E.createElement("div",{className:"ride-details__current-user__star"},E.createElement("img",{src:"/assets/star.7cebe332.svg",alt:"star"}))," ",e.participant_first_name)),E.createElement("div",{className:"ride-details__current-user__dogs-container"},e.dogs.map((e=>E.createElement("article",{className:"ride-details__current-user__current-dog",key:e.dog_id},E.createElement("div",{className:"dog-avatar"},e.dog_photo&&E.createElement("img",{src:`http://100.25.13.11/dog_resized/${e.dog_photo[0].photo_url}`,alt:e.dog_surname,className:"dog-avatar__photo"}),E.createElement("span",null,e.dog_surname),E.createElement("span",null,"mâle"===e.dog_gender?"♂":"♀")),E.createElement("div",{className:"dog-details"},E.createElement("ul",null,E.createElement("li",null,E.createElement("span",{className:"dog-details__behavior"},E.createElement("img",{src:L[e.dog_behavior],alt:"dog behavior",className:"dog-details__behavior__logo"}),e.dog_behavior)),E.createElement("li",null,e.dog_breed),E.createElement("li",null,e.dog_age," ",e.dog_weight,"kg"),E.createElement("li",null,e.dog_sterilization?"Stérilisé":"Non stérilisé")))))))))))))),o.find((e=>e.participant_id===r.id))&&E.createElement("button",{type:"button",className:j?"ride-details__toggle rotate":"ride-details__toggle",onClick:()=>{B(!j),oe()}},j?E.createElement("img",{src:ue,alt:"close chat"}):E.createElement("img",{src:"/assets/conversation.2b3e1aa1.svg",alt:"open chat"})),j&&E.createElement("section",{className:"ride-details__chat"},E.createElement("div",{className:"ride-details__messages-container",ref:t},h.map((e=>E.createElement("div",{key:e.id,className:e.sender_id===r.id?"ride-details__messages-container__message my-message":"ride-details__messages-container__message"},E.createElement("p",null,e.participants,E.createElement("span",null,e.sender_first_name,le(e.sent))),E.createElement("span",null,e.message))))),E.createElement("div",{className:"ride-details__new-message"},E.createElement("form",{onSubmit:q((({message:t})=>{a(((e,t,a)=>({type:"SEND__NEW__MESSAGE",userId:e,rideId:t,message:a}))(r.id,e,t)),$(),oe()})),className:"ride-details__form"},E.createElement("input",i({id:"message",name:"message",type:"text",placeholder:"Nouveau message"},G("message",{required:!0}))),E.createElement("button",{type:"submit"},"Envoyer")))),W&&E.createElement("div",{className:"ride-details__modal"},E.createElement("p",{className:"ride-details__modal__text"},"Attention, vous êtes l'organisateur de cette balade"),E.createElement("p",{className:"ride-details__modal__text"},"En vous retirant vous la supprimerez"),E.createElement("p",{className:"ride-details__modal__text"},"Continuer ?"),E.createElement("div",{className:"ride-details__modal__btn-container"},E.createElement("button",{type:"button",className:"ride-details__modal__back-btn",onClick:()=>K(!1)},"Retour"),E.createElement("button",{type:"button",className:"ride-details__modal__delete-btn",onClick:()=>(a(M(s)),void J(!0))},"Supprimer"))),Y&&E.createElement("div",{className:"ride-details__modal"},E.createElement("p",{className:"ride-details__modal__text"},"Voulez allez retirer ",o.find((e=>e.participant_id===Q)).participant_first_name," de la balade ?"),E.createElement("p",{className:"ride-details__modal__text"},"Continuer ?"),E.createElement("div",{className:"ride-details__modal__btn-container"},E.createElement("button",{type:"button",className:"ride-details__modal__back-btn",onClick:()=>{Z(!1),ee(0)}},"Retour"),E.createElement("button",{type:"button",className:"ride-details__modal__delete-btn",onClick:()=>(a({type:"KICK__USER__FROM__RIDE",userId:Q,rideId:e}),Z(!1),void ee(0))},"Retirer"))))))};const Ce=()=>{const{user:e}=g((e=>e)),t=u();v.exports.useEffect((()=>{t({type:"GET__RIDES__WITH__USER__IN"})}),[]);const a=e.rides.filter((t=>t.host_id===e.id)),r=e.rides.filter((t=>t.host_id!==e.id));return E.createElement("div",{className:"dashboard"},E.createElement("header",{className:"dashboard__header"},E.createElement("h1",{className:"dashboard__header__title"},"Tableau de bord"),E.createElement("span",null,e.first_name),E.createElement(N,{className:"dashboard__header__btn",to:"/ride/create"},"Créer une balade")),E.createElement("section",{className:"dashboard__hostedrides"},E.createElement("h2",{className:"dashboard__hostedrides__title"},"Je suis l'organisateur de ces balades"),a.length>0?a.map(((e,a)=>E.createElement("div",{key:e.ride_id,className:"dashboard__hostedrides__container"},E.createElement("div",null,E.createElement("p",null,"#",a+1," ",e.title),E.createElement("p",null,le(e.starting_time)),E.createElement("p",null,e.participants?e.participants.reduce(((e,t)=>t.dogs.length+e),0):0,"chiens")),E.createElement("div",{className:"dashboard__hostedrides__link-container"},E.createElement(N,{className:"dashboard__hostedrides__link",to:`/ride/${e.ride_id}`},"Détails"),E.createElement("button",{className:"dashboard__hostedrides__link",type:"button",onClick:()=>t(M(e.ride_id))},"Supprimer"))))):E.createElement("div",null,"Vous n'organisez aucune balade")),E.createElement("section",{className:"dashboard__nothostedrides"},E.createElement("h2",{className:"dashboard__nothostedrides__title"},"Je participe à ces balades"),r.length>0?r.map(((a,r)=>E.createElement("div",{key:a.ride_id,className:"dashboard__nothostedrides__container"},E.createElement("div",null,E.createElement("p",null,"#",r+1," ",a.title),E.createElement("p",null,le(a.starting_time)),E.createElement("p",null,a.participants?a.participants.reduce(((e,t)=>t.dogs.length+e),0):0,"chiens")),E.createElement("div",{className:"dashboard__nothostedrides__link-container"},E.createElement(N,{className:"dashboard__nothostedrides__link",to:`/ride/${a.ride_id}`},"Détails"),E.createElement("button",{className:"dashboard__nothostedrides__link",type:"button",onClick:()=>t(F(e.id,a.ride_id))},"Quitter"))))):E.createElement("div",null,"Vous ne participez à aucune balade")))};var ke="/assets/edit.1caf9345.svg";const Ae=({setIsModalAccountOpen:e,inputDelete:t,setInputDelete:a,failedToDelete:r,handleDeleteAccount:s,firstName:n})=>E.createElement("div",{className:"profile-page__modal"},E.createElement("div",{className:"profile-page__modal__container"},E.createElement("button",{className:"profile-page__modal__close",type:"button",onClick:()=>e(!1)},E.createElement("img",{src:ue,alt:"close"})),E.createElement("p",null,"ATTENTION, vous êtes sur le point de supprimer votre compte"),E.createElement("p",null,"Cette action est irréversible"),E.createElement("p",null,"Entrez votre prénom ",E.createElement("span",null,n)," pour valider cette action"),E.createElement("input",{type:"email",name:"email",value:t,onChange:e=>a(e.target.value)}),r&&E.createElement("span",null,"Le prénom ne correspond pas"),E.createElement("div",{className:"profile-page__modal__btn"},E.createElement("button",{type:"button",onClick:s},"Supprimer mon compte définitivement"))));const Oe=({dog:e,index:t,isEditingDog:a,setIsModalDeleteDogIsOpen:r,profileIsUser:s,dogIsChanged:n,setIsModalOpen:l,toggleEditDog:i,surname:o,setSurname:c,setDogIsChanged:d,gender:m,setGender:_,setAge:p,setBreed:u,breed:g,signup:h,weight:f,handleSetWeight:b,behavior:v,setBehavior:N,sterilization:y,setSterilization:S,setDescription:R,description:I,setDogAndPicIndex:x,setIsModalPhotoOpen:D,setPhotoDog:T,handleUpdateDog:C})=>{const k={peureux:Re,joueur:Ie,agressif:xe,sociable:De};return E.createElement("article",null,E.createElement("h2",null,E.createElement("span",null,"#",t+1," Carte de ",e.dog_surname,a===t+1?E.createElement("button",{type:"button",onClick:()=>r(!0)},E.createElement("img",{src:ue,alt:"delete dog"})):null),s&&E.createElement("div",{className:"profile-page__edit__dog",onClick:()=>{n?l(!0):i(t)}},a===t+1?"Retour":E.createElement("span",null,E.createElement("img",{src:ke,alt:"edit"}),"Modifier"))),E.createElement("div",{className:"profile-page__dog"},E.createElement("div",{className:"profile-page__dog__details"},a===t+1?E.createElement("div",{className:"profile-page__dog__display-input"},E.createElement("input",{type:"text",value:o,minLength:"3",maxLength:"20",onChange:e=>{c(e.target.value),d(!0)}}),E.createElement("span",{className:"profile-page__dog__gender-container"},E.createElement("label",{htmlFor:"femelle"},"Femelle",E.createElement("input",{id:"femelle",type:"radio",name:"gender",value:1,checked:1===m,onChange:()=>{_(1),d(!0)}})),E.createElement("label",{htmlFor:"male"},"Mâle",E.createElement("input",{id:"male",type:"radio",name:"gender",value:2,checked:2===m,onChange:()=>{_(2),d(!0)}}))),E.createElement("label",{htmlFor:"birthday"},"Naissance",E.createElement("input",{type:"date",name:"birthday",onChange:e=>{p(e.target.value),d(!0)}}))):E.createElement("span",null,e.dog_surname," ","mâle"===e.dog_gender?"♂":"♀"," ",e.dog_age),a===t+1?E.createElement("div",{className:"profile-page__dog__details-container"},E.createElement("select",{name:"breed",onChange:e=>{u(e.target.value),d(!0)},defaultValue:g},h.breeds.map((e=>E.createElement("option",{key:e.id,value:e.id},e.label)))),"Poids (en kg)",E.createElement("input",{type:"number",name:"weight",id:"weight",defaultValue:f,onChange:e=>b(e.target.value)})):E.createElement("div",{className:"profile-page__dog__details-container"},E.createElement("span",null,E.createElement("img",{src:"/assets/race.8ac1b665.svg",alt:"race"}),e.dog_breed),e.dog_weight,"kg"),E.createElement("div",{className:"profile-page__dog__details-container"},a===t+1?E.createElement(E.Fragment,null,E.createElement("select",{name:"behavior",onChange:e=>{N(e.target.value),d(!0)},defaultValue:v},h.behaviors.map((e=>E.createElement("option",{key:e.id,value:e.id},e.label)))),E.createElement("label",{htmlFor:"sterilization"},E.createElement("input",{type:"checkbox",name:"sterilization",id:"sterilization",checked:y,onChange:()=>{S((e=>!e)),d(!0)}}),"Stérilisé")):E.createElement(E.Fragment,null,E.createElement("span",null,E.createElement("img",{src:k[e.dog_behavior],alt:"comportement"}),e.dog_behavior),e.dog_sterilization?"Stérilisé":"Non stérilisé")),a===t+1?E.createElement("textarea",{maxLength:"200",name:"description",onChange:e=>{R(e.target.value),d(!0)},defaultValue:I}):E.createElement("div",null,e.dog_description))),E.createElement("div",{className:"profile-page__dog-pictures"},E.createElement("h2",null,"Photos de ",e.dog_surname),E.createElement("div",{className:"profile-page__dog-pictures__container"},e.dog_photo.length>0&&e.dog_photo.map(((r,s)=>E.createElement("div",{className:"profile-page__dog-pictures__container-item",key:r.photo_id},E.createElement("img",{src:`http://100.25.13.11/dog_resized/${r.photo_url}`,alt:e.dog_surname}),a===t+1&&E.createElement("button",{type:"button",onClick:()=>{x({dogIdx:t,picIdx:s}),D(!0)}},E.createElement("img",{src:ue,alt:"delete"}))))),0===e.dog_photo.length&&E.createElement("span",null,"Pas de photo !"))),a===t+1&&e.dog_photo.length<5&&E.createElement("input",{type:"file",name:"photo",onChange:e=>T(e.target.files[0])}),a===t+1&&e.dog_photo.length>=5&&E.createElement(E.Fragment,null,E.createElement("p",null,"Impossible d'ajouter une photo. Veuillez en retirer")),a===t+1&&E.createElement("div",{className:"profile-page__info-user__submit"},E.createElement("button",{type:"button",onClick:C},"Enregistrer les infos")))};Oe.propTypes={dog:b.exports.PropTypes.object.isRequired,index:b.exports.PropTypes.number.isRequired,isEditingDog:b.exports.PropTypes.bool.isRequired,setIsModalDeleteDogIsOpen:b.exports.PropTypes.func.isRequired,profileIsUser:b.exports.PropTypes.bool.isRequired,dogIsChanged:b.exports.PropTypes.bool.isRequired,setIsModalOpen:b.exports.PropTypes.func.isRequired,toggleEditDog:b.exports.PropTypes.func.isRequired,surname:b.exports.PropTypes.string,setSurname:b.exports.PropTypes.func.isRequired,setDogIsChanged:b.exports.PropTypes.func.isRequired,gender:b.exports.PropTypes.number,setGender:b.exports.PropTypes.func.isRequired,setAge:b.exports.PropTypes.func.isRequired,setBreed:b.exports.PropTypes.func.isRequired,breed:b.exports.PropTypes.number,signup:b.exports.PropTypes.object.isRequired,weight:b.exports.PropTypes.number,handleSetWeight:b.exports.PropTypes.func.isRequired,behavior:b.exports.PropTypes.number,setBehavior:b.exports.PropTypes.func.isRequired,sterilization:b.exports.PropTypes.bool,setSterilization:b.exports.PropTypes.func.isRequired,setDescription:b.exports.PropTypes.func.isRequired,description:b.exports.PropTypes.string,setDogAndPicIndex:b.exports.PropTypes.func.isRequired,setIsModalPhotoOpen:b.exports.PropTypes.func.isRequired,setPhotoDog:b.exports.PropTypes.func.isRequired,handleUpdateDog:b.exports.PropTypes.func.isRequired};const Pe=()=>{const{user:e,profile:t,signup:a}=g((e=>e)),r=u(),s=e.id===t.member_id,{id:n}=P(),[l,i]=v.exports.useState(!1),[o,c]=v.exports.useState(),[d,m]=v.exports.useState(),[_,p]=v.exports.useState(),[h,f]=v.exports.useState(),[b,N]=v.exports.useState(!1),[y,S]=v.exports.useState(),[R,I]=v.exports.useState(),[x,D]=v.exports.useState(),[T,C]=v.exports.useState(),[k,A]=v.exports.useState(),[O,z]=v.exports.useState(),[U,w]=v.exports.useState(),[L,G]=v.exports.useState(),[q,F]=v.exports.useState(),[M,V]=v.exports.useState({}),[$,j]=v.exports.useState(!1),[B,H]=v.exports.useState(!1),[J,W]=v.exports.useState(!1),[K,Y]=v.exports.useState(!1),[Z,Q]=v.exports.useState(!1),[X,ee]=v.exports.useState(!1),[te,ae]=v.exports.useState(""),[re,se]=v.exports.useState(!1);v.exports.useEffect((()=>{i(!1),N(!1),r({type:"REINIT__RENDER__AGAIN"}),r({type:"GET__PROFILE__IS__LOADING"}),r({type:"GET_DOG_BREEDS_AND_BEHAVIORS"}),r((e=>({type:"GET__ONE__USER__BY__ID",id:e}))(n))}),[n,e.renderAgain]);const ne=e=>{if(j(!0),e<=0)A(1);else if(e>=200)A(200);else{const t=Number(e).toFixed(1);A(t)}},le=e=>{if(b===e+1)N(0);else{N(e+1);const r=t.dogs.find(((t,a)=>a===e));S(r.dog_surname),D(a.breeds.find((e=>e.label===r.dog_breed)).id),I(a.behaviors.find((e=>e.label===r.dog_behavior)).id),C("femelle"===r.dog_gender?1:2),A(r.dog_weight),w(r.dog_sterilization),G(r.dog_description)}},ie=()=>{const a={surname:y,behavior:R,breed:x,gender:T,weight:k,age:O,sterilization:U,description:L,photoDog:q};$&&j(!1),B&&H(!1);const s=t.dogs[b-1].dog_id;r(((e,t,a)=>({type:"UPDATE__DOG",userId:e,dogId:t,updatedDog:a}))(e.id,s,a)),N(!1)};return E.createElement("div",{className:"profile-page"},t.isLoading?E.createElement(ce,null):E.createElement(E.Fragment,null,s&&E.createElement("div",{className:"profile-page__edit",onClick:()=>{i(!l),c(t.first_name),m(t.last_name),p(t.zip_code)}},l?"Retour":E.createElement("span",null,E.createElement("img",{src:ke,alt:"edit"}),"Modifier")),E.createElement("header",{className:"profile-page__header"},E.createElement("div",null,E.createElement("span",{className:"profile-page__header__annoucement"},s?"Votre profil ":"Profil de "),E.createElement("div",{className:"profile-page__header__avatar"},E.createElement("img",{src:`http://100.25.13.11/user_resized/${t.photo}`,alt:t.first_name}),l&&E.createElement("input",{type:"file",onChange:e=>f(e.target.files[0])})),E.createElement("span",{className:"profile-page__header__avatar-name"},t.first_name))),X&&E.createElement(Ae,{setIsModalAccountOpen:ee,inputDelete:te,setInputDelete:ae,failedToDelete:re,handleDeleteAccount:()=>{te===e.first_name?r({type:"DELETE__USER"}):se(!0)},firstName:e.first_name}),E.createElement("section",{className:"profile-page__info-user"},s&&l&&E.createElement("button",{className:"delete-account-btn",type:"button",onClick:()=>{ae(""),se(!1),ee(!0)}},"Supprimer mon compte"),E.createElement("h2",null,"Informations sur l'utilisateur"),E.createElement("p",{className:"profile-page__info-user__content"},E.createElement("span",{className:"profile-page__info-user__content-field"},l?E.createElement("input",{type:"text",value:o,onChange:e=>c(e.target.value)}):E.createElement("span",null,t.first_name),l?E.createElement("input",{type:"text",value:d,onChange:e=>m(e.target.value)}):E.createElement("span",null,t.last_name)),E.createElement("span",{className:"profile-page__info-user__content-field"},l?E.createElement("input",{type:"number",value:_,onChange:e=>p(e.target.value)}):E.createElement("span",null,"Ville : ",t.zip_code)),E.createElement("span",{className:"profile-page__info-user__content-field"},E.createElement("span",null,"Nombre de chien",t.dogs.length>1&&"s"," : ",t.dogs.length))),l&&E.createElement("div",{className:"profile-page__info-user__submit"},E.createElement("button",{type:"submit",onClick:()=>{i(!1),r((e=>({type:"UPDATE__USER",user:e}))({firstName:o,lastName:d,zipcode:_,photoUser:h}))}},"Enregistrer vos infos"))),E.createElement("section",{className:"profile-page__info-dogs"},t.dogs.map(((e,t)=>E.createElement(Oe,{dog:e,index:t,isEditingDog:b,setIsModalDeleteDogIsOpen:Y,profileIsUser:s,dogIsChanged:$,setIsModalOpen:H,toggleEditDog:le,surname:y,setSurname:S,setDogIsChanged:j,gender:T,setGender:C,setAge:z,setBreed:D,breed:x,signup:a,weight:k,handleSetWeight:ne,setBehavior:I,behavior:R,sterilization:U,setSterilization:w,setDescription:G,description:L,setDogAndPicIndex:V,setIsModalPhotoOpen:W,setPhotoDog:F,handleUpdateDog:ie}))))),B&&E.createElement("div",{className:"profile-page__modal"},E.createElement("div",{className:"profile-page__modal__container"},E.createElement("button",{className:"profile-page__modal__close",type:"button",onClick:()=>H(!1)},E.createElement("img",{src:ue,alt:"close"})),E.createElement("p",null,"Attention"),E.createElement("p",null,"Vous avez des modifications non enregistrées"),E.createElement("div",{className:"profile-page__modal__btn"},E.createElement("button",{className:"profile-page__modal__btn-confirm",type:"button",onClick:()=>{H(!1),j(!1),N(0)}},"Quitter"),E.createElement("button",{className:"profile-page__modal__btn-danger",type:"button",onClick:ie},"Enregistrer")))),J&&E.createElement("div",{className:"profile-page__modal"},E.createElement("div",{className:"profile-page__modal__container"},E.createElement("button",{className:"profile-page__modal__close",type:"button",onClick:()=>W(!1)},E.createElement("img",{src:ue,alt:"close"})),E.createElement("p",null,"Supprimer la photo ?"),E.createElement("div",{className:"profile-page__modal__btn"},E.createElement("button",{type:"button",onClick:()=>W(!1)},"Non"),E.createElement("button",{type:"button",onClick:()=>{W(!1);const a=t.dogs[M.dogIdx].dog_photo[M.picIdx],s=t.dogs[b-1].dog_id;r(((e,t,a)=>({type:"DELETE__DOG__PHOTO",userId:e,dogId:t,photoId:a}))(e.id,s,a.photo_id))}},"Oui")))),K&&E.createElement("div",{className:"profile-page__modal"},E.createElement("div",{className:"profile-page__modal__container"},E.createElement("button",{className:"profile-page__modal__close",type:"button",onClick:()=>Y(!1)},E.createElement("img",{src:ue,alt:"close"})),E.createElement("p",null,"Supprimer le chien ?"),E.createElement("div",{className:"profile-page__modal__btn"},E.createElement("button",{type:"button",onClick:()=>Y(!1)},"Non"),E.createElement("button",{type:"button",onClick:()=>{const a=t.dogs[b-1];var s;Y(!1),r((s=e.id,a.dog_id,{type:"DELETE__DOG",userId:s}))}},"Oui")))),s&&E.createElement(E.Fragment,null,E.createElement("button",{className:"profile-page__btn-dogform",type:"button",onClick:()=>Q((e=>!e))},"Ajouter un chien",E.createElement("span",{className:Z?"close":"open"},E.createElement("img",{src:"/assets/double_arrow.d4fa11f8.svg",alt:"arrow"}))),E.createElement("div",{className:Z?"profile-page__dogform-open":"profile-page__dogform-close"},E.createElement(ve,null))))};function ze(){const{isLogged:e}=g((e=>e.user));return E.createElement("div",{className:"App"},E.createElement(z,null,E.createElement(U,{exact:!0,path:"/"},e?E.createElement(A,{to:"/home"}):E.createElement(Ee,null)),E.createElement(U,{exact:!0,path:"/signup"},E.createElement(E.Fragment,null,E.createElement(X,null),E.createElement("main",null,E.createElement(Se,null)))),E.createElement(U,{exact:!0,path:"/home"},e?E.createElement(E.Fragment,null,E.createElement(X,{title:"Map balade"}),E.createElement("main",null,E.createElement(pe,null))):E.createElement(A,{to:"/"})),E.createElement(U,{exact:!0,path:"/board"},e?E.createElement(E.Fragment,null,E.createElement(X,{title:"Tableau de bord"}),E.createElement("main",null,E.createElement(Ce,null))):E.createElement(A,{to:"/"})),E.createElement(U,{exact:!0,path:"/ride/create"},e?E.createElement(E.Fragment,null,E.createElement(X,{title:"Créer une balade"}),E.createElement("main",null,E.createElement(be,null))):E.createElement(A,{to:"/"})),E.createElement(U,{exact:!0,path:"/ride/:id"},e?E.createElement(Te,null):E.createElement(A,{to:"/"})),E.createElement(U,{exact:!0,path:"/profile/:id"},e?E.createElement(E.Fragment,null,E.createElement(X,{title:"Détails d'un profil"}),E.createElement("main",null,E.createElement(Pe,null))):E.createElement(A,{to:"/"})),E.createElement(U,null,E.createElement("main",null,"404 : t'es tombé sur un os !"))))}w.render(E.createElement(L,{store:K},E.createElement(G,null,E.createElement(ze,null))),document.getElementById("root"));
